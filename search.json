[{"path":"https://kbvernon.github.io/awdb/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 awdb authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://kbvernon.github.io/awdb/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kenneth Blake Vernon. Author, maintainer.","code":""},{"path":"https://kbvernon.github.io/awdb/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Vernon K (2025). awdb: Query USDA NWCC Air Water Database REST API. R package version 0.0.0.9000, https://kbvernon.github.io/awdb/.","code":"@Manual{,   title = {awdb: Query the USDA NWCC Air and Water Database REST API},   author = {Kenneth Blake Vernon},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://kbvernon.github.io/awdb/}, }"},{"path":"https://kbvernon.github.io/awdb/index.html","id":"awdb","dir":"","previous_headings":"","what":"Query the USDA NWCC Air and Water Database REST API","title":"Query the USDA NWCC Air and Water Database REST API","text":"awdb package provides tools querying USDA National Water Climate Center Air Water Database REST API. package extremely light weight, Rust via extendr heavy lifting deserialize flatten deeply nested JSON responses. package also designed support pretty printing tibbles import tibble package.","code":""},{"path":"https://kbvernon.github.io/awdb/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Query the USDA NWCC Air and Water Database REST API","text":"can install development version awdb GitHub :","code":"# install.packages(\"pak\") pak::pak(\"kbvernon/awdb\")"},{"path":"https://kbvernon.github.io/awdb/index.html","id":"the-awdb-rest-api","dir":"","previous_headings":"","what":"The AWDB REST API","title":"Query the USDA NWCC Air and Water Database REST API","text":"package provides separate function query endpoint USDA AWDB REST API: API provide spatial queries, requests made areas interest (aoi) first ask API metadata endpoint stations database spatial coordinates. converts set sf object, performs spatial filter aoi, sends another request elements forecasts stations aoi.","code":""},{"path":"https://kbvernon.github.io/awdb/index.html","id":"get-stations","dir":"","previous_headings":"","what":"Get Stations","title":"Query the USDA NWCC Air and Water Database REST API","text":"Find AWDB stations around Bear Lake northern Utah measure soil moisture percent various depths.","code":"library(awdb) library(sf) library(tibble)  stations <- get_stations(bear_lake, elements = \"SMS:*\")  stations #> Simple feature collection with 9 features and 14 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -111.6296 ymin: 41.68541 xmax: -111.1663 ymax: 42.4132 #> Geodetic CRS:  WGS 84 #> # A tibble: 9 × 15 #>   station_triplet station_id state_code network_code name   dco_code county_name #>   <chr>           <chr>      <chr>      <chr>        <chr>  <chr>    <chr>       #> 1 374:UT:SNTL     374        UT         SNTL         Bug L… UT       Rich        #> 2 484:ID:SNTL     484        ID         SNTL         Frank… UT       Franklin    #> 3 1114:UT:SNTL    1114       UT         SNTL         Garde… UT       Cache       #> 4 493:ID:SNTL     493        ID         SNTL         Giveo… ID       Bear Lake   #> 5 1115:UT:SNTL    1115       UT         SNTL         Klond… UT       Cache       #> 6 1013:UT:SNTL    1013       UT         SNTL         Templ… UT       Cache       #> 7 823:UT:SNTL     823        UT         SNTL         Tony … UT       Cache       #> 8 1113:UT:SNTL    1113       UT         SNTL         Tony … UT       Cache       #> 9 1098:UT:SNTL    1098       UT         SNTL         Usu D… UT       Rich        #> # ℹ 8 more variables: huc <chr>, elevation <dbl>, data_time_zone <dbl>, #> #   pedon_code <chr>, shef_id <chr>, begin_date <chr>, end_date <chr>, #> #   geometry <POINT [°]>"},{"path":"https://kbvernon.github.io/awdb/index.html","id":"get-elements","dir":"","previous_headings":"","what":"Get Elements","title":"Query the USDA NWCC Air and Water Database REST API","text":"USDA NWCC refers soil, snow, stream, weather variables measured AWDB stations “elements.” get snow water equivalent soil moisture measurements around Bear Lake early May 2015. time series, element values come list column containing data.frames least date value columns. Using tidyr::unnest() helpful unpacking .","code":"elements <- get_elements(   bear_lake,   elements = c(\"WTEQ\", \"SMS:8\"),   awdb_options = set_options(     begin_date = \"2015-05-01\",     end_date = \"2015-05-07\"   ) )  elements[, c(\"station_triplet\", \"element_code\", \"element_values\")] #> # A tibble: 10 × 3 #>    station_triplet element_code element_values #>    <chr>           <chr>        <list>         #>  1 374:UT:SNTL     WTEQ         <df [7 × 2]>   #>  2 471:ID:SNTL     WTEQ         <df [7 × 2]>   #>  3 484:ID:SNTL     WTEQ         <df [7 × 2]>   #>  4 1114:UT:SNTL    WTEQ         <df [7 × 2]>   #>  5 493:ID:SNTL     WTEQ         <df [7 × 2]>   #>  6 1115:UT:SNTL    WTEQ         <df [7 × 2]>   #>  7 1013:UT:SNTL    WTEQ         <df [7 × 2]>   #>  8 823:UT:SNTL     WTEQ         <df [7 × 2]>   #>  9 1113:UT:SNTL    WTEQ         <df [7 × 2]>   #> 10 1098:UT:SNTL    WTEQ         <df [7 × 2]>  elements[[\"element_values\"]][[1]] #>         date value #> 1 2015-05-01   2.1 #> 2 2015-05-02   1.1 #> 3 2015-05-03   0.0 #> 4 2015-05-04   0.0 #> 5 2015-05-05   0.0 #> 6 2015-05-06   0.0 #> 7 2015-05-07   0.0"},{"path":"https://kbvernon.github.io/awdb/index.html","id":"get-forecasts","dir":"","previous_headings":"","what":"Get Forecasts","title":"Query the USDA NWCC Air and Water Database REST API","text":"TODO!","code":""},{"path":"https://kbvernon.github.io/awdb/index.html","id":"get-references","dir":"","previous_headings":"","what":"Get References","title":"Query the USDA NWCC Air and Water Database REST API","text":"somewhat unique endpoint REST API called “References.” ever worked government employees military, maybe aware prefer extremely condensed form speech jammed full acronyms codes. references endpoint helps clarify cryptic language data dictionaries explain code used database actually means. also process provides exhaustive list available options. , can access get_references(). instance, want table showing possible station elements AWDB, simple .","code":"get_references(\"elements\") #> # A tibble: 115 × 9 #>    code  name     physical_element_name function_code data_precision description #>    <chr> <chr>    <chr>                 <chr>                  <int> <chr>       #>  1 TAVG  AIR TEM… air temperature       V                          1 Average Ai… #>  2 TMAX  AIR TEM… air temperature       X                          1 Maximum Ai… #>  3 TMIN  AIR TEM… air temperature       N                          1 Minimum Ai… #>  4 TOBS  AIR TEM… air temperature       C                          1 Instantane… #>  5 PRES  BAROMET… barometric pressure   C                          2 Barometric… #>  6 BATT  BATTERY  battery               C                          2 Battery Vo… #>  7 BATV  BATTERY… battery               V                          2 <NA>        #>  8 BATX  BATTERY… battery               X                          2 Maximum Ba… #>  9 BATN  BATTERY… battery               N                          2 Minimum Ba… #> 10 ETIB  BATTERY… battery-eti precip g… C                          2 <NA>        #> # ℹ 105 more rows #> # ℹ 3 more variables: stored_unit_code <chr>, english_unit_code <chr>, #> #   metric_unit_code <chr>"},{"path":"https://kbvernon.github.io/awdb/index.html","id":"additional-query-parameters","dir":"","previous_headings":"","what":"Additional Query Parameters","title":"Query the USDA NWCC Air and Water Database REST API","text":"examples, use set_options() pass additional query parameters. don’t pass arguments, uses defaults assumed AWDB REST API. additional package specific options also included. decent print method want inspect . important note options passed part queries specific endpoints.","code":"set_options() #>  #> ── AWDB Query Parameter Set ──────────────────────────────────────────────────── #> Options passed to each endpoint. #>  #>                           VALUE STATION ELEMENT FORECAST #> networks                      *      ✓       ✓        ✓ #> duration                  DAILY      x       ✓        x #> begin_date                 NULL      x       ✓        x #> end_date                   NULL      x       ✓        x #> period_reference            END      x       ✓        x #> central_tendency           NULL      x       ✓        x #> return_flags              FALSE      x       ✓        x #> return_original_values    FALSE      x       ✓        x #> return_suspect_values     FALSE      x       ✓        x #> begin_publication_date     NULL      x       x        ✓ #> end_publication_date       NULL      x       x        ✓ #> exceedence_probabilities   NULL      x       x        ✓ #> forecast_periods           NULL      x       x        ✓ #> station_names              NULL      ✓       ✓        ✓ #> dco_codes                  NULL      ✓       ✓        ✓ #> county_names               NULL      ✓       ✓        ✓ #> hucs                       NULL      ✓       ✓        ✓ #> return_forecast_metadata  FALSE      ✓       x        x #> return_reservoir_metadata FALSE      ✓       x        x #> return_element_metadata   FALSE      ✓       x        x #> active_only                TRUE      ✓       ✓        ✓ #> request_size                 10      x       ✓        ✓"},{"path":"https://kbvernon.github.io/awdb/reference/awdb.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the USDA AWDB REST API — awdb","title":"Query the USDA AWDB REST API — awdb","text":"awdb package implements functions interface AWDB REST API R.","code":""},{"path":[]},{"path":"https://kbvernon.github.io/awdb/reference/awdb.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Query the USDA AWDB REST API — awdb","text":"Maintainer: Kenneth Blake Vernon kenneth.b.vernon@gmail.com (ORCID)","code":""},{"path":"https://kbvernon.github.io/awdb/reference/awdb_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Build List of Additional Query Parameters — awdb_options","title":"Build List of Additional Query Parameters — awdb_options","text":"helper function make easier handle additional query parameters. Provides defaults type checking.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/awdb_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build List of Additional Query Parameters — awdb_options","text":"","code":"set_options(   networks = \"*\",   duration = \"daily\",   begin_date = NULL,   end_date = NULL,   period_reference = \"end\",   central_tendency = NULL,   return_flags = FALSE,   return_original_values = FALSE,   return_suspect_values = FALSE,   begin_publication_date = NULL,   end_publication_date = NULL,   exceedence_probabilities = NULL,   forecast_periods = NULL,   station_names = NULL,   dco_codes = NULL,   county_names = NULL,   hucs = NULL,   return_forecast_metadata = FALSE,   return_reservoir_metadata = FALSE,   return_element_metadata = FALSE,   active_only = TRUE,   request_size = 10L )  # S3 method for class 'awdb_options' print(x, ...)"},{"path":"https://kbvernon.github.io/awdb/reference/awdb_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build List of Additional Query Parameters — awdb_options","text":"networks character vector, abbreviations codes station networks interest (e.g., \"USGS\" refers USGS soil monitoring stations). Default *, \"networks\". See Details available networks codes. duration character scalar, temporal resolution element measurements. Available values include daily (default), hourly, semimonthly, monthly, calendar_year, water_year. begin_date character scalar, start date time period interest. Date must format \"YYYY-MM-DD\". end_date character scalar, end date time period interest. Date must format \"YYYY-MM-DD\". period_reference character scalar, reporting convention use returning instantaneous data. Default \"end\". central_tendency character scalar, central tendency return element value. Available options include NULL (default, central tendency returned), median average. return_flags boolean scalar, whether return flags element value. Default FALSE. return_original_values boolean scalar, whether return original element values. Default FALSE. return_suspect_values boolean scalar, whether return suspect element values. Default FALSE. begin_publication_date character scalar, beginning publication period retrieve data. Date must format YYYY-MM-DD. NULL, assumes start current water year. end_publication_date character scalar, end publication period retrieve data. Date must format YYYY-MM-DD. NULL, assumes current day. exceedence_probabilities integer vector, TODO! write ... forecast_periods character vector, TODO! figure one ... station_names character vector, used subset stations names. Default NULL. dco_codes character vector, used subset stations fall specified DCOs. Default NULL. county_names character vector, used subset stations fall specified counties. Default NULL. hucs integer vector, used subset stations fall specified hydrologic units. Default NULL. return_forecast_metadata boolean scalar, whether return forecast metadata station locations. included list column. Default FALSE. return_reservoir_metadata boolean scalar, whether return reservoir metadata station locations. included list column. Default FALSE. return_element_metadata boolean scalar, whether return element metadata station locations. included list column. Default FALSE. active_only boolean scalar, whether include active stations. Default TRUE. request_size integer scalar, number individual stations include query. helps meet rate limits imposed API. getting request error, might try lowering number. Default 10L. x awdb_options list ... ignored","code":""},{"path":"https://kbvernon.github.io/awdb/reference/awdb_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build List of Additional Query Parameters — awdb_options","text":"awdb_options list","code":""},{"path":"https://kbvernon.github.io/awdb/reference/awdb_options.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build List of Additional Query Parameters — awdb_options","text":"","code":"set_options() #>  #> ── AWDB Query Parameter Set ──────────────────────────────────────────────────── #> Options passed to each endpoint. #>  #>                           VALUE STATION ELEMENT FORECAST #> networks                      *      ✓       ✓        ✓ #> duration                  DAILY      x       ✓        x #> begin_date                 NULL      x       ✓        x #> end_date                   NULL      x       ✓        x #> period_reference            END      x       ✓        x #> central_tendency           NULL      x       ✓        x #> return_flags              FALSE      x       ✓        x #> return_original_values    FALSE      x       ✓        x #> return_suspect_values     FALSE      x       ✓        x #> begin_publication_date     NULL      x       x        ✓ #> end_publication_date       NULL      x       x        ✓ #> exceedence_probabilities   NULL      x       x        ✓ #> forecast_periods           NULL      x       x        ✓ #> station_names              NULL      ✓       ✓        ✓ #> dco_codes                  NULL      ✓       ✓        ✓ #> county_names               NULL      ✓       ✓        ✓ #> hucs                       NULL      ✓       ✓        ✓ #> return_forecast_metadata  FALSE      ✓       x        x #> return_reservoir_metadata FALSE      ✓       x        x #> return_element_metadata   FALSE      ✓       x        x #> active_only                TRUE      ✓       ✓        ✓ #> request_size                 10      x       ✓        ✓"},{"path":"https://kbvernon.github.io/awdb/reference/datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Datasets — datasets","title":"Datasets — datasets","text":"Arbitrary bounding boxes drawn around potential areas interest.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Datasets — datasets","text":"","code":"bear_lake  cascades"},{"path":"https://kbvernon.github.io/awdb/reference/datasets.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Datasets — datasets","text":"object class sfc_POLYGON (inherits sfc) length 1.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/datasets.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Datasets — datasets","text":"Coordinates digitized manually.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/datasets.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Datasets — datasets","text":"Areas interest include: Bear Lake along border Utah Idaho. See location Google Maps. Cascades west central Oregon. See location Google Maps.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_elements.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Station Elements — get_elements","title":"Get Station Elements — get_elements","text":"Get station elements  USDA National Water Climate Center Air Water Database REST API. Elements soil, snow, stream, weather variables measured AWDB stations.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_elements.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Station Elements — get_elements","text":"","code":"get_elements(aoi, elements, awdb_options = set_options(), as_sf = FALSE)"},{"path":"https://kbvernon.github.io/awdb/reference/get_elements.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Station Elements — get_elements","text":"aoi sfc POLYGON scalar, area interest used performing spatial filter available stations network. elements character vector, abbreviations codes variables interest (e.g., \"SMS\" \"Soil Moisture Percent\"). See Details available elements codes. awdb_options awdb_options list additional query parameters. as_sf boolean scalar, whether return data sf table. Default FALSE. Repeating spatial data across station element time series can costly.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_elements.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Station Elements — get_elements","text":"as_sf, sf table, otherwise simple data.frame. number rows depends number stations element parameters. Time series data included list column named \"element_values\".","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_elements.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Station Elements — get_elements","text":"endpoint accept following query parameters via set_options(): duration begin_date end_date period_reference central_tendency return_flags return_original_values return_suspect_values following can also passed filter stations: station_names dco_codes county_names hucs active_only may also specify networks request_size. networks parameter used internally build unique station triplet identifiers form station:state:network passed endpoint, serves filter stations just networks. request_size parameter handling rate limits, based number elements - hard value measure directly, parameter rule thumb strict standard. processing slow , may find experimenting parameter useful. See set_options() details.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_elements.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Station Elements — get_elements","text":"","code":"get_elements(bear_lake, elements = \"WTEQ\") #> # A tibble: 10 × 11 #>    station_triplet element_code ordinal duration_name data_precision #>    <chr>           <chr>          <int> <chr>                  <int> #>  1 374:UT:SNTL     WTEQ               1 DAILY                      1 #>  2 471:ID:SNTL     WTEQ               1 DAILY                      1 #>  3 484:ID:SNTL     WTEQ               1 DAILY                      1 #>  4 1114:UT:SNTL    WTEQ               1 DAILY                      1 #>  5 493:ID:SNTL     WTEQ               1 DAILY                      1 #>  6 1115:UT:SNTL    WTEQ               1 DAILY                      1 #>  7 1013:UT:SNTL    WTEQ               1 DAILY                      1 #>  8 823:UT:SNTL     WTEQ               1 DAILY                      1 #>  9 1113:UT:SNTL    WTEQ               1 DAILY                      1 #> 10 1098:UT:SNTL    WTEQ               1 DAILY                      1 #> # ℹ 6 more variables: stored_unit_code <chr>, original_unit_code <chr>, #> #   begin_date <chr>, end_date <chr>, derived_data <lgl>, element_values <list>"},{"path":"https://kbvernon.github.io/awdb/reference/get_forecasts.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Station Forecasts — get_forecasts","title":"Get Station Forecasts — get_forecasts","text":"Get station forecasts USDA National Water Climate Center Air Water Database REST API.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_forecasts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Station Forecasts — get_forecasts","text":"","code":"get_forecasts(aoi, elements, awdb_options = set_options(), as_sf = FALSE)"},{"path":"https://kbvernon.github.io/awdb/reference/get_forecasts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Station Forecasts — get_forecasts","text":"aoi sfc POLYGON scalar, area interest used performing spatial filter available stations network. elements character vector, abbreviations codes variables interest (e.g., \"SMS\" \"Soil Moisture Percent\"). See Details available elements codes. awdb_options awdb_options list additional query parameters. as_sf boolean scalar, whether return data sf table. Default FALSE. Repeating spatial data across station element time series can costly.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_forecasts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Station Forecasts — get_forecasts","text":"as_sf, sf table, otherwise simple data.frame. number rows depends number stations element parameters. Time series data included list column named \"forecast_values\".","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_forecasts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Station Forecasts — get_forecasts","text":"endpoint accept following query parameters via set_options(): begin_publication_date end_publication_date exceedence_probabilities forecast_periods following can also passed filter stations: station_names dco_codes county_names hucs active_only may also specify networks request_size. networks parameter used internally build unique station triplet identifiers form station:state:network passed endpoint, serves filter stations just networks. request_size parameter handling rate limits, based number elements - hard value measure directly, parameter rule thumb strict standard. processing slow , may find experimenting parameter useful. See set_options() details.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_forecasts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Station Forecasts — get_forecasts","text":"","code":"# get forecasts for snow water equivalent (WTEQ) # get_forecasts(cascades, elements = \"WTEQ\")"},{"path":"https://kbvernon.github.io/awdb/reference/get_references.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Data Dictionary — get_references","title":"Get Data Dictionary — get_references","text":"Get references USDA National Water Climate Center Air Water Database REST API. References provide descriptions codes used AWDB.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_references.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Data Dictionary — get_references","text":"","code":"get_references(reference_type = \"elements\")"},{"path":"https://kbvernon.github.io/awdb/reference/get_references.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Data Dictionary — get_references","text":"reference_type character scalar, name reference. Potential values include dcos, durations, elements (default), forecastPeriods, functions, instruments, networks, physicalElements, states, units.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_references.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Data Dictionary — get_references","text":"data.frame","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_references.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Data Dictionary — get_references","text":"","code":"# get_references(\"elements\")"},{"path":"https://kbvernon.github.io/awdb/reference/get_stations.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Station Metadata — get_stations","title":"Get Station Metadata — get_stations","text":"Get station metadata USDA National Water Climate Center Air Water Database REST API. includes spatial coordinates.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_stations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Station Metadata — get_stations","text":"","code":"get_stations(aoi, elements, awdb_options = set_options())"},{"path":"https://kbvernon.github.io/awdb/reference/get_stations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Station Metadata — get_stations","text":"aoi sfc POLYGON scalar, area interest used performing spatial filter available stations network. elements character vector, abbreviations codes variables interest (e.g., \"SMS\" \"Soil Moisture Percent\"). See Details available elements codes. awdb_options awdb_options list additional query parameters.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_stations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Station Metadata — get_stations","text":"sf table station metadata.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_stations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Station Metadata — get_stations","text":"endpoint accept following query parameters via set_options(): station_names dco_codes county_names hucs return_forecast_metadata return_reservoir_metadata return_element_metadata active_only may also specify networks. networks parameter used internally build unique station triplet identifiers form station:state:network, serves filter stations just networks. See set_options() details.","code":""},{"path":"https://kbvernon.github.io/awdb/reference/get_stations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Station Metadata — get_stations","text":"","code":"# get stations with WTEQ elements get_stations(   bear_lake,   elements = \"WTEQ\" ) #> Simple feature collection with 10 features and 14 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -111.6296 ymin: 41.68541 xmax: -111.1663 ymax: 42.4132 #> Geodetic CRS:  WGS 84 #> # A tibble: 10 × 15 #>    station_triplet station_id state_code network_code name  dco_code county_name #>    <chr>           <chr>      <chr>      <chr>        <chr> <chr>    <chr>       #>  1 374:UT:SNTL     374        UT         SNTL         Bug … UT       Rich        #>  2 471:ID:SNTL     471        ID         SNTL         Emig… ID       Bear Lake   #>  3 484:ID:SNTL     484        ID         SNTL         Fran… UT       Franklin    #>  4 1114:UT:SNTL    1114       UT         SNTL         Gard… UT       Cache       #>  5 493:ID:SNTL     493        ID         SNTL         Give… ID       Bear Lake   #>  6 1115:UT:SNTL    1115       UT         SNTL         Klon… UT       Cache       #>  7 1013:UT:SNTL    1013       UT         SNTL         Temp… UT       Cache       #>  8 823:UT:SNTL     823        UT         SNTL         Tony… UT       Cache       #>  9 1113:UT:SNTL    1113       UT         SNTL         Tony… UT       Cache       #> 10 1098:UT:SNTL    1098       UT         SNTL         Usu … UT       Rich        #> # ℹ 8 more variables: huc <chr>, elevation <dbl>, data_time_zone <dbl>, #> #   pedon_code <chr>, shef_id <chr>, begin_date <chr>, end_date <chr>, #> #   geometry <POINT [°]>  # get stations with WTEQ elements that are in the SNTL network get_stations(   bear_lake,   elements = \"WTEQ\",   awdb_options = set_options(networks = \"SNTL\") ) #> Simple feature collection with 10 features and 14 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -111.6296 ymin: 41.68541 xmax: -111.1663 ymax: 42.4132 #> Geodetic CRS:  WGS 84 #> # A tibble: 10 × 15 #>    station_triplet station_id state_code network_code name  dco_code county_name #>    <chr>           <chr>      <chr>      <chr>        <chr> <chr>    <chr>       #>  1 374:UT:SNTL     374        UT         SNTL         Bug … UT       Rich        #>  2 471:ID:SNTL     471        ID         SNTL         Emig… ID       Bear Lake   #>  3 484:ID:SNTL     484        ID         SNTL         Fran… UT       Franklin    #>  4 1114:UT:SNTL    1114       UT         SNTL         Gard… UT       Cache       #>  5 493:ID:SNTL     493        ID         SNTL         Give… ID       Bear Lake   #>  6 1115:UT:SNTL    1115       UT         SNTL         Klon… UT       Cache       #>  7 1013:UT:SNTL    1013       UT         SNTL         Temp… UT       Cache       #>  8 823:UT:SNTL     823        UT         SNTL         Tony… UT       Cache       #>  9 1113:UT:SNTL    1113       UT         SNTL         Tony… UT       Cache       #> 10 1098:UT:SNTL    1098       UT         SNTL         Usu … UT       Rich        #> # ℹ 8 more variables: huc <chr>, elevation <dbl>, data_time_zone <dbl>, #> #   pedon_code <chr>, shef_id <chr>, begin_date <chr>, end_date <chr>, #> #   geometry <POINT [°]>"}]
